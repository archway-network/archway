# Keys

## Key Types

There are three types of key representations that are used:

- `archway`
  - Derived from account keys generated by `archwayd keys add`
  - Used to receive funds
  - e.g. `archway15h6vd5f0wqps26zjlwrc6chah08ryu4hzzdwhc`

- `archwayvaloper`
  - Used to associate a validator to it's operator
  - Used to invoke staking commands
  - e.g. `archwayvaloper1carzvgq3e6y3z5kz5y6gxp3wpy3qdrv928vyah`

- `archwaypub`
  - Derived from account keys generated by `archwayd keys add`
  - e.g. `archwaypub1zcjduc3q7fu03jnlu2xpl75s2nkt7krm6grh4cc5aqth73v0zwmea25wj2hsqhlqzm`
- `archwayvalconspub`
  - Generated when the node is created with `archwayd init`.
  - Get this value with `archwayd tendermint show-validator`
  - e.g. `archwayvalconspub1zcjduepq0ms2738680y72v44tfyqm3c9ppduku8fs6sr73fx7m666sjztznqzp2emf`

## Migrate Keys From Legacy On-Disk Keybase To OS Built-in Secret Store

Older versions of `archwayd` used store keys in the user's home directory. If you are migrating from an old version of `archwayd` you will need to migrate your old keys into your operating system's credentials storage by running the following command:

```bash
archwayd keys migrate
```

The command will prompt for every passphrase. If a passphrase is incorrect, it will skip the respective key.

## Generate Keys

You'll need an account private and public key pair \(a.k.a. `sk, pk` respectively\) to be able to receive funds, send txs, bond tx, etc.

To generate a new _secp256k1_ key:

```bash
archwayd keys add <account_name>
```

The output of the above command will contain a _seed phrase_. It is recommended to save the _seed
phrase_ in a safe place so that in case you forget the password of the operating system's
credentials store, you could eventually regenerate the key from the seed phrase with the
following command:

```bash
archwayd keys add --recover
```

If you check your private keys, you'll now see `<account_name>`:

```bash
archwayd keys show <account_name>
```

View the validator operator's address via:

```bash
archwayd keys show <account_name> --bech=val
```

You can see all your available keys by typing:

```bash
archwayd keys list
```

View the validator pubkey for your node by typing:

```bash
archwayd tendermint show-validator
```

Note that this is the Tendermint signing key, _not_ the operator key you will use in delegation transactions.

::: danger Warning
We strongly recommend _NOT_ using the same passphrase for multiple keys. The Tendermint team and the Interchain Foundation will not be responsible for the loss of funds.
:::

## Generate Multisig Public Keys

You can generate and print a multisig public key by typing:

```bash
archwayd keys add --multisig=name1,name2,name3[...] --multisig-threshold=K new_key_name
```

`K` is the minimum number of private keys that must have signed the
transactions that carry the public key's address as signer.

The `--multisig` flag must contain the name of public keys that will be combined into a
public key that will be generated and stored as `new_key_name` in the local database.
All names supplied through `--multisig` must already exist in the local database. Unless
the flag `--nosort` is set, the order in which the keys are supplied on the command line
does not matter, i.e. the following commands generate two identical keys:

```bash
archwayd keys add --multisig=foo,bar,baz --multisig-threshold=2 multisig_address
archwayd keys add --multisig=baz,foo,bar --multisig-threshold=2 multisig_address
```

Multisig addresses can also be generated on-the-fly and printed through the which command:

```bash
archwayd keys show --multisig-threshold K name1 name2 name3 [...]
```

For more information regarding how to generate, sign and broadcast transactions with a
multi signature account see [Multisig Transactions](#multisig-transactions).